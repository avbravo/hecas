<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <body>

        <ui:composition template="./../../template.xhtml">
            <!--
                        <ui:define name="top">
                            top
                        </ui:define>
            
                        <ui:define name="bottom">
                            bottom
                        </ui:define>
            
                        <ui:define name="left">
                            left
                        </ui:define>
            -->
            <ui:define name="center">
                <f:view>
                  
                        <p:dialog visible="true" header="#{form['usuarios.cambiarcontrasena']}" closable="true" 
                                  height="235"  width="450"
                                  position="center"
                                  showEffect="clip" hideEffect="fade" 
                                  id="dialog"
                                  widgetVar="insertDialog">  
  <h:form id="form" rendered="#{loginBean.logeado}">
                        <!--
                        <p:messages autoUpdate="true"/>
                        -->
                        <p:growl id="growl"/>
                            <p:toolbar id="toolbar">  
                                <f:facet name="left">  
                                  
                               </f:facet>  
                             <f:facet name="right">
                             
                                    <p:commandButton id="button_edit"
                                                     update="panel,toolbar,growl"
                                                     rendered="true"
                                                     title="#{app['boton.update']}"
                                                     icon="ui-icon-pencil" action="#{loginBean.cambiarContrasena()}"/>
                                  
                             </f:facet>  

                            </p:toolbar>  


                            <h:panelGrid columns="2" id="panel" >

                                <p:outputLabel value="#{msg.username}"  />
                                <p:outputLabel value="#{loginBean.usuarios.username}"/>
                                <p:outputLabel value="#{msg.nombre}" />
                                <p:outputLabel value="#{loginBean.usuarios.nombre}"/>

                                <p:outputLabel value="#{msg.password}" for="password" />
                                <p:password id="password" value="#{loginBean.usuarios.password}"  match="password2" title="#{msg.password}" required="true" requiredMessage="#{msg.password} #{app['info.required']}"/>

                                  

                        <p:outputLabel for="password2" value="#{app['info.repetirpassword']}*" />  
                        <p:password id="password2" value="#{loginBean.usuarios.password}" label="#{app['usuarios.password']} *" required="true"/>  
                        
                        
                        
                                
                            </h:panelGrid>
                      
                       
                    </h:form>
                              </p:dialog>
                    <h:form rendered="#{!loginBean.logeado}">
                        <ui:include src="/accesodenegado.xhtml" />
                    </h:form>


                </f:view>
             
            </ui:define>

        </ui:composition>

    </body>
</html>
